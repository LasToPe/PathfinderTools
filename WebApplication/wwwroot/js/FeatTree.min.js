function onClick_subtree(n){let t=n;divid=n.replace(/\'/,"");let i=$("[id*='"+divid+"']").last(),r=i.children().first(),u=r.find(".feat-open");load(u);$.ajax({url:"/FeatTree/GetChildren",method:"GET",data:{parent:t},accepts:"application/json",success:function(n){createSubTree(i[0],divid,t,n);r.find(".feat-open").remove("*")}})}function load(n){n.removeClass("glyphicon");n.removeClass("glyphicon-chevron-down");n.addClass("loader")}function createSubTree(n,t,r,u){let f=document.createElement("div");if(f.classList.add("col-md-12"),u.length<1){f.style.marginLeft="15px";let t=document.createElement("span");t.classList.add("feat-tree-text-span");let i=document.createTextNode("No feats listing "+r+" as a prerequisite found");t.appendChild(i);f.appendChild(t);n.appendChild(f);return}for(i=0;i<u.length;i++){let o=u[i],r=document.createElement("div");r.classList.add("row");r.classList.add("feat-tree-area");r.id=t+"_"+o.name.replace(/\'/,"");let n=document.createElement("div");n.classList.add("col-md-3");n.classList.add("feat-tree-block");let h=document.createElement("span");h.classList.add("link-img");let s=document.createElement("a");s.href=o.link;s.target="_blank";let c=document.createElement("img");c.src="/images/link.png";s.appendChild(c);h.appendChild(s);let l=document.createElement("strong"),a=document.createTextNode(o.name);l.appendChild(a);let e=document.createElement("span");e.classList.add("glyphicon");e.classList.add("glyphicon-chevron-down");e.classList.add("feat-open");e.onclick=function(){onClick_subtree(o.name)};n.appendChild(h);n.appendChild(l);n.appendChild(e);r.appendChild(n);f.appendChild(r)}n.appendChild(f)}function searchTree(){let n=document.createElement("div");n.classList.add("loader");n.classList.add("search-loader");let t=document.getElementsByClassName("form-inline")[0];t.appendChild(n);let r=document.getElementById("treeSearchInput").value;if(r===""){$(".hidden").removeClass("hidden");t.removeChild(n);return}$.ajax({url:"/FeatTree/TreeSearch",method:"GET",data:{input:r},accepts:"application/json",success:function(r){try{for($(".feat-tree-area").addClass("hidden"),$(".feat-tree-text-span").addClass("hidden"),i=0;i<r.length;i++){let t=r[i].name.replace(/\'/,""),n=$("[id='"+t+"']")[0];if(n!==undefined){n.classList.remove("hidden");$("[id='"+n.id+"']").parents().removeClass("hidden");$("[id='"+n.id+"']").find("*").removeClass("hidden");continue}let u=r[i].req.name.replace(/\'/,"");if(n=$("[id='"+u+"']")[0],n!==undefined){n.classList.remove("hidden");$("[id='"+n.id+"']").parents().removeClass("hidden");$("[id='"+n.id+"']").find("*").removeClass("hidden");continue}}t.removeChild(n)}catch(u){t.removeChild(n);throw u;}}})}document.onreadystatechange=function(){document.readyState==="complete"&&document.getElementById("treeSearchInput").addEventListener("keypress",function(n){n.keyCode===13&&(n.preventDefault(),searchTree())})};
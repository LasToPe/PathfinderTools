function onClick_subtree(n){let t=$("[id='"+n+"']"),i=t.parents(".feat-tree-area").first(),r=t.siblings("strong").first().text();load(t);$.ajax({url:"/FeatTree/GetChildren",method:"GET",data:{parent:r},accepts:"application/json",success:function(n){createSubTree(i,i.id,r,n);doneLoading(t)}})}function load(n){n.removeClass("glyphicon");n.removeClass("glyphicon-chevron-down");n.addClass("loader")}function doneLoading(n){n.removeClass("loader");n.remove()}function createSubTree(n,t,r,u){let f=document.createElement("div");if(f.classList.add("col-md-12"),u.length<1){f.style.marginLeft="15px";let t=document.createElement("span");t.classList.add("feat-tree-text-span");let i=document.createTextNode("No feats listing "+r+" as a prerequisite found");t.append(i);f.append(t);n.append(f);return}for(i=0;i<u.length;i++){let o=u[i],e=document.createElement("div");e.classList.add("row");e.classList.add("feat-tree-area");e.id=t+"_"+o.name.replace(/\'/,"");let r=document.createElement("div");r.classList.add("col-md-3");r.classList.add("feat-tree-block");let h=document.createElement("span");h.classList.add("link-img");let s=document.createElement("a");s.href=o.link;s.target="_blank";let c=document.createElement("img");c.src="/images/link.png";s.appendChild(c);h.appendChild(s);let l=document.createElement("strong"),a=document.createTextNode(o.name);l.appendChild(a);let n=document.createElement("span");n.id=o.name+"_arrow";n.classList.add("glyphicon");n.classList.add("glyphicon-chevron-down");n.classList.add("feat-arrow");n.onclick=function(){onClick_subtree(n.id)};r.appendChild(h);r.appendChild(l);r.appendChild(n);e.appendChild(r);f.appendChild(e)}n.append(f)}function searchTree(){let n=document.createElement("div");n.classList.add("loader");n.classList.add("search-loader");let t=document.getElementsByClassName("form-inline")[0];t.appendChild(n);let r=document.getElementById("treeSearchInput").value;if(r===""){$(".hidden").removeClass("hidden");t.removeChild(n);return}$.ajax({url:"/FeatTree/TreeSearch",method:"GET",data:{input:r},accepts:"application/json",success:function(r){try{for($(".feat-tree-area").addClass("hidden"),$(".feat-tree-text-span").addClass("hidden"),i=0;i<r.length;i++){let t=r[i].name.replace(/\'/,""),n=$("[id='"+t+"']")[0];if(n!==undefined){n.classList.remove("hidden");$("[id='"+n.id+"']").parents().removeClass("hidden");$("[id='"+n.id+"']").find("*").removeClass("hidden");continue}let u=r[i].req.name.replace(/\'/,"");if(n=$("[id='"+u+"']")[0],n!==undefined){n.classList.remove("hidden");$("[id='"+n.id+"']").parents().removeClass("hidden");$("[id='"+n.id+"']").find("*").removeClass("hidden");continue}}t.removeChild(n)}catch(u){t.removeChild(n);throw u;}}})}document.onreadystatechange=function(){document.readyState==="complete"&&document.getElementById("treeSearchInput").addEventListener("keypress",function(n){n.keyCode===13&&(n.preventDefault(),searchTree())})};
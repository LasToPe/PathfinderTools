function onClick_subtree(n){let r=document.getElementById(n).parentElement,u=n.match(/(?!.*\|)(.+)/)[0],t=document.getElementById(n),i=t.getElementsByClassName("feat-open")[0];load(i);$.ajax({url:"/FeatTree/GetChildren",method:"GET",data:{parent:u},accepts:"application/json",success:function(u){createSubTree(r,n,u);t.removeChild(i)}})}function searchTree(){let n=document.createElement("div");n.classList.add("loader");n.classList.add("search-loader");let t=document.getElementsByClassName("form-inline")[0];t.appendChild(n);let r=document.getElementById("treeSearchInput").value;if(r===""){$(".hidden").removeClass("hidden");t.removeChild(n);return}$.ajax({url:"/FeatTree/TreeSearch",method:"GET",data:{input:r},accepts:"application/json",success:function(r){for($(".feat-tree-block").addClass("hidden"),i=0;i<r.length;i++){let n=document.getElementById(r[i]);n.classList.remove("hidden")}t.removeChild(n)}})}function load(n){n.classList.remove("glyphicon");n.classList.remove("glyphicon-chevron-down");n.classList.add("loader")}function createSubTree(n,t,r){let u=document.createElement("div");if(u.classList.add("col-md-12"),r.length<1){u.style.marginLeft="15px";let i=document.createTextNode("No feats listing "+t+" as a prerequisite found");u.appendChild(i);n.appendChild(u);return}for(i=0;i<r.length;i++){let s=r[i],e=document.createElement("div");e.classList.add("row");e.classList.add("feat-tree-area");let n=document.createElement("div");n.classList.add("col-md-3");n.classList.add("feat-tree-block");n.id=t+"|"+s.name;let h=document.createElement("span");h.classList.add("link-img");let o=document.createElement("a");o.href=s.link;o.target="_blank";let c=document.createElement("img");c.src="/images/link.png";o.appendChild(c);h.appendChild(o);let l=document.createElement("strong"),a=document.createTextNode(s.name);l.appendChild(a);let f=document.createElement("span");f.classList.add("glyphicon");f.classList.add("glyphicon-chevron-down");f.classList.add("feat-open");f.onclick=function(){onClick_subtree(n.id)};n.appendChild(h);n.appendChild(l);n.appendChild(f);e.appendChild(n);u.appendChild(e)}n.appendChild(u)}document.onreadystatechange=function(){document.readyState==="complete"&&document.getElementById("treeSearchInput").addEventListener("keypress",function(n){n.keyCode===13&&(n.preventDefault(),searchTree())})};